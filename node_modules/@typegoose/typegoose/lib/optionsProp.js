"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("./internal/constants");
const data_1 = require("./internal/data");
const utils_1 = require("./internal/utils");
const logSettings_1 = require("./logSettings");
/**
 * Define Options for the Class
 * @param options Options
 * @example Example:
 * ```
 *  @modelOptions({ schemaOptions: { timestamps: true } })
 *  class Name {}
 *
 *  // Note: The default Class "TimeStamps" can be used for type infomation and options already set
 * ```
 */
function modelOptions(options) {
    return (target) => {
        if (utils_1.isNullOrUndefined(Reflect.getMetadata(constants_1.DecoratorKeys.ModelOptions, target))) {
            logSettings_1.logger.info('Assigning global Schema Options to "%s"', utils_1.getName(target));
            for (const key of Object.keys(data_1.globalOptions)) {
                options[key] = Object.assign({}, data_1.globalOptions[key], options[key]);
            }
        }
        utils_1.assignMetadata(constants_1.DecoratorKeys.ModelOptions, options, target);
    };
}
exports.modelOptions = modelOptions;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uc1Byb3AuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvb3B0aW9uc1Byb3AudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxvREFBcUQ7QUFDckQsMENBQWdEO0FBQ2hELDRDQUE4RTtBQUM5RSwrQ0FBdUM7QUFHdkM7Ozs7Ozs7Ozs7R0FVRztBQUNILFNBQWdCLFlBQVksQ0FBQyxPQUFzQjtJQUNqRCxPQUFPLENBQUMsTUFBVyxFQUFFLEVBQUU7UUFDckIsSUFBSSx5QkFBaUIsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLHlCQUFhLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUU7WUFDOUUsb0JBQU0sQ0FBQyxJQUFJLENBQUMseUNBQXlDLEVBQUUsZUFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDeEUsS0FBSyxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFhLENBQUMsRUFBRTtnQkFDNUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLG9CQUFhLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDcEU7U0FDRjtRQUNELHNCQUFjLENBQUMseUJBQWEsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQztBQUNKLENBQUM7QUFWRCxvQ0FVQyJ9